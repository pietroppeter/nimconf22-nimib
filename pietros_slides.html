<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.2.0/reveal.min.css" integrity="sha512-vFD6wFRj2whK8/X/dMgxJHinKfGlwMYtN+yRCxvxvmOgIiMIlgrFb5iOuCoqwCID+Qcq2/gY8DpmNHcAjfHWxw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.2.0/theme/moon.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.2.0/plugin/highlight/monokai.min.css" integrity="sha512-z8wQkuDRFwCBfoj7KOiu1MECaRVoXx6rZQWL21x0BsVVH7JkqCp1Otf39qve6CrCycOOL5o9vgfII5Smds23rg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  </head>
  <body>
  <div class="reveal">
    <div class="slides">
      <section >
      <h1>NIMIBğŸ³ GOES INTERACTIVEğŸ¤¯</h1>
      </section>
      <section >
      <h3>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Pietro</h3>
<ul>
<li>Pietro Peterlongo, <a href="https://goo.gl/maps/ceG6UsLEGqmx5Kpa7">Milan, Italy ğŸ‡®ğŸ‡¹</a></li>
<li>Python Data Scientist working on a <a href="https://www.toolsgroup.com">Supply Chain Planning Software</a></li>
<li>talked previously about nimib at <a href="https://pietroppeter.github.io/nimconf2021/revealjs/index.html">NimConf2021</a></li>
<li>helped organize <a href="https://archive.fosdem.org/2022/schedule/track/nim_programming_language/">Nim Devroom at FOSDEM 2022</a></li>
<li>let's organize again the Nim Devroom and meet at <a href="https://fosdem.org/2023/">FOSDEM 2023</a>!</li>
</ul>
      </section>
      <section >
      <h3>HUGO ğŸ™‹â€â™‚ï¸</h3>
      <ul>
      <div class="fragment fade-in" data-fragment-index="0" data-fragment-index-nimib="0"> 
  
      <li class="fragment fade-in-then-semi-out " data-fragment-index="0" data-fragment-index-nimib="0">
      <p>Engineering Physics student</p>
      </li>
      </div>
  
      <div class="fragment fade-in" data-fragment-index="1" data-fragment-index-nimib="1"> 
  
      <li class="fragment fade-in-then-semi-out " data-fragment-index="1" data-fragment-index-nimib="1">
      <p>Nimib maintainer - since July 2022</p>
      </li>
      </div>
  
      <ul>
      <div class="fragment fade-in" data-fragment-index="2" data-fragment-index-nimib="2"> 
  
      <li class="fragment fade-in-then-semi-out " data-fragment-index="2" data-fragment-index-nimib="2">
      <p>nimiSlides</p>
      </li>
      </div>
  
      </ul>
      <div class="fragment fade-in" data-fragment-index="3" data-fragment-index-nimib="3"> 
  
      <li class="fragment fade-in-then-semi-out " data-fragment-index="3" data-fragment-index-nimib="3">
      <p>SciNim member - since the start 2020</p>
      </li>
      </div>
  
      <ul>
      <div class="fragment fade-in" data-fragment-index="4" data-fragment-index-nimib="4"> 
  
      <li class="fragment fade-in-then-semi-out " data-fragment-index="4" data-fragment-index-nimib="4">
      <p>NumericalNim</p>
      </li>
      </div>
  
      <div class="fragment fade-in" data-fragment-index="5" data-fragment-index-nimib="5"> 
  
      <li class="fragment fade-in-then-semi-out " data-fragment-index="5" data-fragment-index-nimib="5">
      <p>Scinim/getting-started (uses nimiBook)</p>
      </li>
      </div>
  
      </ul>
      </ul>
      </section>
      <section >
      <h3>Previously at NimConf 2021</h3>
      <iframe width="560" height="315" src="https://www.youtube.com/embed/sWA58Wtk6L8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
      </section>
      <section >
      <h2>Content of presentation</h2>
<ul>
<li>A livecodingğŸ‘¨â€ğŸ’» intro to NimibğŸ³</li>
<li>âœ¨Release of Nimib 0.3 - BlockMakerğŸ§±
<ul>
<li>make your own <code>NbBlock</code>ğŸ‘·</li>
<li>ğŸ¤¯ <code>nbJsFromCode</code>, <code>nbKaraxCode</code></li>
</ul>
</li>
<li>NimiboostğŸš€ and NimibookğŸ“š 0.3</li>
<li>Nimib GalleryğŸ–¼ï¸</li>
<li>ContributingğŸ¤² and RoadmapğŸ—ºï¸</li>
</ul>
      </section>
      <section >
      <h2>A livecodingğŸ‘¨â€ğŸ’» intro to NimibğŸ³</h2>
      <aside class="notes">
  <p>here I need to add the video</p>

</aside>
      </section>
      <section >
      <section data-auto-animate >
      <h2>âœ¨Nimib 0.3 - BlockMakerğŸ§±</h2>
<ul>
<li>make your own <code>NbBlock</code>ğŸ‘·</li>
<li>ğŸ¤¯ <code>nbJsFromCode</code>, <code>nbKaraxCode</code></li>
</ul>
      </section>
      <section data-auto-animate >
      <h2>âœ¨Nimib 0.3 - BlockMakerğŸ§±</h2>
<ul>
<li>ğŸª<code>CodeAsInSource</code></li>
<li>make your own <code>NbBlock</code>ğŸ‘·</li>
<li>ğŸ<code>nbPython</code></li>
<li>ğŸ¤¯ <code>nbJsFromCode</code>, <code>nbKaraxCode</code></li>
</ul>
      </section>
      <section data-auto-animate >
      <h2>âœ¨Nimib 0.3 - BlockMakerğŸ§±</h2>
<ul>
<li>ğŸª<code>CodeAsInSource</code></li>
<li>make your own <code>NbBlock</code>ğŸ‘·</li>
<li>ğŸ<code>nbPython</code></li>
<li>ğŸ¤¯ <code>nbJsFromCode</code>, <code>nbKaraxCode</code></li>
</ul>
<p>more stuff and details in <a href="https://github.com/pietroppeter/nimib/releases/tag/v0.3.0">0.3.0</a>
and <a href="https://github.com/pietroppeter/nimib/releases/tag/v0.3.1">0.3.1</a> release notes</p>
      </section>
      </section>
      <section >
      <h3>ğŸª<code>CodeAsInSource</code></h3>
      <section >
      <h4>Before (<code>CodeFromAst</code>)</h4>
      <div style="display: grid; grid-auto-flow: column;">
      <div>
      <p>Code in source file:</p>
      <pre style="width: 100%"><code class="nim hljs" data-noescape data-line-numbers><span class="hljs-keyword">import</span> math, strformat
<span class="hljs-keyword">let</span>
  n = <span class="hljs-number">1</span>
<span class="hljs-keyword">echo</span> n + <span class="hljs-number">1</span> <span class="hljs-comment"># 2</span>
<span class="hljs-comment">## documentation comment</span>
struct(http):
  s: _ = <span class="hljs-string">&quot;HTTP/&quot;</span>
  *header: {headers}</code></pre>
      </div>
      <div>
      
      </div>
      <div class="fragment fade-in" data-fragment-index="6" data-fragment-index-nimib="6"> 
  
      <div>
      <p>Code as shown in html:</p>
      <pre style="width: 100%"><code class="nim hljs" data-noescape data-line-numbers="|1-2,|3-4,|5-5,|6-6,|8-9,|10-10"><span class="hljs-keyword">import</span>
  math, strformat

<span class="hljs-keyword">let</span> n = <span class="hljs-number">1</span>
<span class="hljs-keyword">echo</span> n + <span class="hljs-number">1</span>
<span class="hljs-comment">## documentation comment</span>
struct(http):
  s:
    _ = <span class="hljs-string">&quot;HTTP/&quot;</span>
  *header</code></pre>

      </div>
      </div>
  
      </div>
      <div class="fragment fade-in" data-fragment-index="7" data-fragment-index-nimib="7"> 
  
      <p>Still available with <code>-d:nimibCodeFromAst</code></p>
      </div>
  
      <aside class="notes">
  <ul>
<li>It was very nice, since it was very easy to implement with a simple <code>macro toStr(body) = body.toStrLit</code></li>
<li>it inherited bugs from Nim, see:
<ul>
<li>https://github.com/pietroppeter/nimib/issues/20</li>
<li>https://github.com/nim-lang/Nim/issues/17292</li>
</ul>
</li>
</ul>

</aside>
      </section>
      <section >
      <h4>Now (<code>CodeAsInSource</code>)</h4>
      <div style="display: grid; grid-auto-flow: column;">
      <div>
      <p>Code in source file:</p>
      <pre style="width: 100%"><code class="nim hljs" data-noescape data-line-numbers><span class="hljs-keyword">import</span> math, strformat
<span class="hljs-keyword">let</span>
  n = <span class="hljs-number">1</span>
<span class="hljs-keyword">echo</span> n + <span class="hljs-number">1</span> <span class="hljs-comment"># 2</span>
<span class="hljs-comment">## documentation comment</span>
struct(http):
  s: _ = <span class="hljs-string">&quot;HTTP/&quot;</span>
  *header: {headers}</code></pre>
      </div>
      <div>
      
      </div>
      <div class="fragment fade-in" data-fragment-index="8" data-fragment-index-nimib="8"> 
  
      <div>
      <p><strong>Same</strong> as shown in html:</p>
      </div>
      <pre style="width: 100%"><code class="nim hljs" data-noescape data-line-numbers="|1-2,|3-4,|5-5,|6-6,|8-9,|10-10"><span class="hljs-keyword">import</span> math, strformat
<span class="hljs-keyword">let</span>
  n = <span class="hljs-number">1</span>
<span class="hljs-keyword">echo</span> n + <span class="hljs-number">1</span> <span class="hljs-comment"># 2</span>
<span class="hljs-comment">## documentation comment</span>
struct(http):
  s: _ = <span class="hljs-string">&quot;HTTP/&quot;</span>
  *header: {headers}</code></pre>

      </div>
  
      </div>
      <div class="fragment fade-in" data-fragment-index="9" data-fragment-index-nimib="9"> 
  
      <p>Does not compose well (<a href="https://github.com/pietroppeter/nimib/issues/134">134</a>), there might still be ğŸs</p>
      </div>
  
      <aside class="notes">
  
</aside>
      </section>
      </section>
      <section >
      <section >
      <h3>make your own <code>NbBlock</code>ğŸ‘·</h3>
      </section>
      <section >
      <pre style="width: 100%"><code class="nim hljs" data-noescape data-line-numbers><span class="hljs-keyword">import</span> nimib

nbInit <span class="hljs-comment"># creates a nb: NbDoc object</span>
<span class="hljs-comment"># it has attribute nb.blocks: seq[NbBlock]</span>

nbText: <span class="hljs-string">&quot;hi&quot;</span> <span class="hljs-comment"># new NbBlock added to nb.blocks</span>

nbCode: <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;hi&quot;</span> <span class="hljs-comment"># new NbBlock added to nb.blocks</span>

nbImage(<span class="hljs-string">&quot;hi.png&quot;</span>) <span class="hljs-comment"># new NbBlock added to nb.blocks</span>

myCustomBlock: <span class="hljs-keyword">discard</span> <span class="hljs-comment"># new NbBlock added to nb.blocks</span>

nbSave <span class="hljs-comment"># renders each block in nb.blocks (+theme stuff +save file)</span></code></pre>
      </section>
      <section >
      <h4>Nimib types</h4>
      <pre style="width: 100%"><code class="nim hljs" data-noescape data-line-numbers><span class="hljs-keyword">type</span>
  <span class="hljs-type">NbBlock</span> = <span class="hljs-keyword">ref</span> <span class="hljs-keyword">object</span>
    command*: <span class="hljs-built_in">string</span>
    code*: <span class="hljs-built_in">string</span>
    output*: <span class="hljs-built_in">string</span>
    context*: <span class="hljs-type">Context</span> <span class="hljs-comment"># think of this as a JsonNode           </span>
  <span class="hljs-type">NbDoc</span>* = <span class="hljs-keyword">object</span>
    blocks*: <span class="hljs-built_in">seq</span>[<span class="hljs-type">NbBlock</span>]
    blk*: <span class="hljs-type">NbBlock</span>  <span class="hljs-comment">## current block being processed</span>
    <span class="hljs-comment"># in these table NbBlock.command is the key</span>
    partials*: <span class="hljs-type">Table</span>[<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>]
    renderPlans*: <span class="hljs-type">Table</span>[<span class="hljs-built_in">string</span>, <span class="hljs-built_in">seq</span>[<span class="hljs-built_in">string</span>]]
    renderProcs*: <span class="hljs-type">Table</span>[<span class="hljs-built_in">string</span>, <span class="hljs-type">NbRenderProc</span>]
    <span class="hljs-comment"># ... and other fields</span>
  <span class="hljs-type">NbRenderProc</span>* = <span class="hljs-keyword">proc</span> (doc: <span class="hljs-keyword">var</span> <span class="hljs-type">NbDoc</span>, blk: <span class="hljs-keyword">var</span> <span class="hljs-type">NbBlock</span>) {.nimcall.}</code></pre>
      </section>
      <section >
      <h4>Block render function</h4>
      <pre style="width: 100%"><code class="nim hljs" data-noescape data-line-numbers><span class="hljs-keyword">proc</span> render*(nb: <span class="hljs-keyword">var</span> <span class="hljs-type">NbDoc</span>, blk: <span class="hljs-keyword">var</span> <span class="hljs-type">NbBlock</span>): <span class="hljs-built_in">string</span> =
  <span class="hljs-comment"># adapted from src/nimib/renders.nim</span>
  <span class="hljs-keyword">if</span> blk.command <span class="hljs-keyword">in</span> nb.renderPlans:
    <span class="hljs-keyword">for</span> step <span class="hljs-keyword">in</span> nb.renderPlans[blk.command]:
      <span class="hljs-keyword">if</span> step <span class="hljs-keyword">in</span> nb.renderProcs:
        nb.renderProcs[step](nb, blk)
  blk.context.searchTable(nb.partials)
  <span class="hljs-literal">result</span> = nb.partials[blk.command].render(blk.context)</code></pre>
      </section>
      </section>
      <section >
      <h2>NimibookğŸ“š 0.3</h2>
      </section>
      <section >
      <section >
      <h2>Nimib GalleryğŸ–¼ï¸</h2>
      </section>
      <section data-background-iframe="https://pietroppeter.github.io/nblog/drafts/mermaid_diagram.html" data-background-interactive></section>
      <section data-background-iframe="https://pietroppeter.github.io/nblog/drafts/before_after_image_slider.html" data-background-interactive></section>
      </section>
      <section >
      <h2>ContributingğŸ¤²</h2>
      </section>
      <section >
      <h2>RoadmapğŸ—ºï¸</h2>
      </section>
      <section >
      <h2>Thanks</h2>
      </section>
    </div>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.2.0/reveal.js" integrity="sha512-+Dy2HJZ3Z1DWerDhqFE7AH2HTfnbq8RC1pKOashfMwx1s01fjPUebWoHqrRedU1yFimkexmzJJRilKxjs7lz8g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.2.0/plugin/highlight/highlight.min.js" integrity="sha512-U3fPDUX5bMrn1wnYqjaK44MFA9E6MKS+zPAg9WPAGF5XhReBeDj3FGaA831CjueG+YJxYA3WaO/m33kMIoOs/A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.2.0/plugin/notes/notes.min.js" integrity="sha512-v2co+5nr0bgHekutTzF5jAB0UAjM95dpCF7VVw7WsFCjfxonbQo8Vwl487tNYl0iHWHHGV4o5xKBp5ifyhJkWg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script>
    Reveal.initialize({
      plugins: [ 
        RevealHighlight,
        RevealNotes,
      ],
    });
  </script>
  </body>
</html>
